trigger: none

name: $(Build.SourceBranchName)-$(Date:ddMMyy)-$(Rev:rr)

pool:
 vmImage: windows-latest

parameters:
 - name: configuration
   displayName: "Configuration ex CONFIGURATION_1 "
   type: string
   default: "CONFIGURATION_1"
   values:
    - "__CONFIGURATION_1__"
    - "__CONFIGURATION_2__"
    - "__CONFIGURATION_3__"

 - name: environment
   displayName: "Select Environment "
   type: string
   default: "Stage"
   values:
    - "Stage"
    - "Production"

variables:
 - group : "${{ parameters.environment }}${{ parameters.configuration }}VARIABLES"

stages:
- stage: Building
  displayName: Build
  jobs:
  - job: CompilingCode
    workspace:
      clean: all
    timeoutInMinutes: 360
    displayName: Building
    steps:
    - task: PowerShell@2
      inputs:
        arguments: '-firstname $(Key1)'